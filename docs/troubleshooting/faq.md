# よくある質問（FAQ）

Narrative Conversationの使用中によくある質問をまとめました。

!!! info "見たい項目をクリック"
    各質問をクリックすると詳細が表示されます。

## インストール・起動

??? question "Q. アプリが起動しません"
    **A.** 以下を確認してください：

    1. **ポート8000が使用中**
       - 他のアプリが使っている可能性
       - `--port 8080` で別のポートを指定して起動

    2. **ファイアウォールでブロックされている**
       - 一時的に無効化して試す

    3. **必要なファイルが不足**
       - 再ダウンロード、または再インストール

??? question "Q. アドレスを忘れました"
    **A.** 以下にアクセスしてください：

    ```
    http://127.0.0.1:8000
    ```

    または

    ```
    http://localhost:8000
    ```

??? question "Q. 「404 Not Found」と表示されます"
    **A.** サーバーが正しく起動していません。

    - ターミナルでエラーメッセージを確認
    - サーバーを再起動

---

## API接続

??? question "Q. 接続テストが失敗します"
    **A.** エラーメッセージによって対処法が異なります：

    **「401 Unauthorized」**
    
    - APIキーが間違っています
    - コピー時にスペースが入っていないか確認
    - OpenRouterでAPIキーを再確認

    **「404 Not Found」**
    
    - Base URLが間違っています
    - 末尾の `/v1` を忘れていないか確認
    - OpenRouterの場合：`https://openrouter.ai/api/v1`

    **「Network Error」**
    
    - インターネット接続を確認
    - ファイアウォールやVPNを確認
    - プロキシ設定を確認（企業ネットワークの場合）

    **「Timeout」**
    
    - ネットワークが遅い
    - 通信タイムアウトを延長（設定→通信タイムアウト）

??? question "Q. APIキーを紛失しました"
    **A.** OpenRouterで新しいキーを作成してください。

    1. OpenRouterにログイン
    2. Settings → Keys
    3. 新しいキーを作成

---

## 物語生成

??? question "Q. AIが思ったような展開にしてくれません"
    **A.** 以下を試してください：

    1. **司令や指示をもっと具体的に**
       - 悪い例：「続きを書いて」
       - 良い例：「アリスとボブが仲直りする感動的なシーンを書いてください」

    2. **システムプロンプトや世界観を明確にする**

    3. **手動で編集**
       - AIが生成した内容を、自分で修正

??? question "Q. キャラクターの口調や性格が変わります"
    **A.** 以下を確認・改善してください：

    1. **キャラクター説明に口調を明記**
       ```
       話し方：「〜だよ！」「〜なんだ！」という元気な口調。
       
       例：
       「ねえねえ、聞いて！すごいことがあったんだよ！」
       ```

    2. **司令で明示**
       ```
       キャラクターの設定を守って、続きを書いてください
       ```

    3. **物語が長すぎる**
       - 要約機能を使う（管理タブ→要約）
       - AIの記憶をリフレッシュ

    4. **言語モデルを変更する**
       - より高性能なモデルを試す(Gemini 2.5 Proなど)

??? question "Q. 生成が遅いです"
    **A.** 以下を試してください：

    1. **より軽量なモデルに変更**

    2. **物語が長過ぎる場合は、分岐したり、要約して次の物語に移行する**

    3. **ネットワークを確認**
       - 安定したWi-Fiに接続

??? question "Q. 同じような展開ばかりになります"
    **A.** 以下を試してください：

    1. **Temperatureを上げる**
       - 0.7 → 1.0 に変更
       - より予測不能な展開に

    2. **司令や指示で新しい展開を指示**
       ```
       予想外の展開にしてください
       ```

    3. **物語を分岐させる**
       - 途中から別ルートを試す

---

## データ管理

??? question "Q. 物語が保存されません"
    **A.** 以下を確認：

    1. **保存済み表示を確認**
       - 画面右上に「保存済み」と表示されるか

    2. **操作してすぐにブラウザを閉じたりしていないかを確認**
       - 保存には数秒掛かります

    3. **ディスク容量**
       - ストレージに空きがあるか確認

    4. **権限**
       - ユーザーフォルダに書き込み権限があるか

??? question "Q. 物語を誤って削除してしまいました"
    **A.** 残念ながら、画面操作での復元はできませんが、以下を試してください：
     backupsフォルダ内のstoriesに30世代までのバックアップが保存されています。
     これをメモ帳などのテキストエディタで開き、dataフォルダ内の物語ファイルに上書きすることで、復元できる可能性があります。

??? question "Q. 物語ファイルはどこに保存されていますか？"
    **A.** 実行ファイルと同じフォルダ内の `data/stories` フォルダに保存されています。
    このフォルダ内の `.jsonl` ファイルが物語データです。

??? question "Q. 別のPCに物語を移行したい"
    **A.** フォルダごとコピーしてください。

    1. 上記の保存場所フォルダをコピー
    2. 新しいPCの同じ場所に貼り付け

---

## 料金・コスト

??? question "Q. 推定コストが表示されません"
    **A.** 設定でトークン単価を入力してください。

    1. 設定タブ
    2. 入力トークン単価・出力トークン単価を入力

    料金は、OpenRouterの [Models](https://openrouter.ai/models) ページで確認できます。

??? question "Q. 無料で使い続けることはできますか？"
    **A.** 以下の方法があります：

    1. **OpenRouterの無料モデル**を使う
    2. **Geminiなどの無料枠のあるAIサービス**を使う
    3. **ローカルLLM**を使う（LM Studio、Ollama）

---

## その他

??? question "Q. スマートフォンで使えますか？"
    **A.** ブラウザからアクセスすれば使えます。
      ただし、PCでサーバーを起動しておく必要があります。

??? question "Q. オフラインで使えますか？"
    **A.** ローカルLLM（LM Studio、Ollama）を使えば可能です。

??? question "Q. 複数人で同時に使えますか？"
    **A.** 複数の画面を開くと、競合防止のため動作を停止します。

??? question "Q. 商用利用できますか？"
    **A.** アプリ自体はMITライセンスなので、生成物の著作権はあなたに帰属します。  
    ただし、AI生成物は意図せず著作権や商標権、その他法を侵害している場合があります。  
    AIが生成した内容が他者の権利や法を侵害していないか、ご自身の責任で確認してください。

??? question "Q. ソースコードを改造してもいいですか？"
    **A.** はい、MITライセンスなので自由に改造できます。

    GitHubでフォークして、独自版を作ることもできます。
